# Документация сервиса коротких ссылок

## Для пользователя
>Варианты развития событий в зависимости от входных параметров:
>>1. Вы ввели короткую ссылку:
>>>   - Если вы ввели короткую ссылку, то будет осуществлена попытка перехода по ней
>>>   - Если ссылка существует, доступен лимит и ссылка активна, то откроется браузер
>>>   - Если ссылка просрочилась или кончился лимит, то выведется уведомление пользователю
>>2. Вы ввели GUID впервые:
>>>    - Зарегистрируется новый пользователь
>>>    - Следующим шагом нужно ввести URL ресурса и через пробел целое число - лимит переходов
>>3. Вы ввели GUID повторно:
>>>    - Выведется список активных ссылок данного пользователя
>>>    - Вы переходите в режим редактирования:
>>>        - Если ввести короткую ссылку пользователя, то она будет удалена
>>>        - Если ввести короткую ссылку пользователя и целое число через пробел, то лимит примет переданное значение
>>>        - Если ввести URL и целое число через пробел, то добавится новая короткая ссылка
>>>        - Если ввести что-то другое или ничего и нажать ***Enter***, то вы выйдете из режима редактирования
>>4. Вы ввели слово ***exit*** - программа завершится

## Для администратора
>В файле ***ShortUrlService\src\main\resources\config.json*** хранятся конфигурации программы:
>>- Переменная ***lifetimeInMilliseconds*** отвечает за длительность жизни короткой ссылки с момента создания в миллисекундах
>>- Переменная ***filePath*** указывает файл, откуда будут загружаться данные и сохраняться
>>- При запуске приложения данные загружаются из файла указанного в переменной конфига ***filePath***
>>- При завершении работы приложения данные сохраняются в файл указанный в переменной конфига ***filePath***

## Зависимые библиотеки
>В зависимости Maven требуется добавить следующие библиотеки:
```xml
<!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple -->
<dependency>
   <groupId>com.googlecode.json-simple</groupId>
   <artifactId>json-simple</artifactId>
   <version>1.1</version>
</dependency>
```

## Для проверяющего
>### 1. Функциональность
>>Алгоритм сокращения ссылки работает корректно и возвращать уникальную короткую ссылку для каждого пользователя.
>### 2. Внесение основных параметров работы в конфигурационный файл
>>В файле ***ShortUrlService\src\main\resources\config.json*** можно задать время жизни ссылки и путь к файлу сохранения.
>### 3. Ограничение по времени жизни
>>После истечения срока жизни ссылки она перестаёт быть доступной пользователю, но пока что из системы не удаляется.
>### 4. Автоматическое удаление ссылок
>>При завершении работы, происходит сохранения только активных ссылок, т.е. этап её удаления.
>### 5. Уникальность ссылок
>>Пользователи всегда получают разные короткие ссылки, т.к. ссылка будет заново генерироваться, 
пока не будет получена уникальная во всей системе.
>### 6. Повторное создание ссылок
>>При повторном запросе сокращения той же ссылки, пользователю генерируется новая ссылка.
>### 7. Переход по ссылке
>>При вводе короткой ссылки в консоль открывается браузер и осуществляется переход на оригинальный ресурс.
>### 8. Лимит переходов
>>Ссылка блокируется после достижения заданного пользователем лимита переходов.
>### 9. Уведомление пользователя
>>Пользователь получает уведомление, когда ссылка становится недоступной из-за лимита переходов или истечения времени жизни.
>### 10. Редактирование лимита переходов
>>У пользователя есть возможность изменять лимит переходов по ссылке в режиме редактирования.
>### 11. Удаление ссылки
>>Пользователь может удалять свои ссылки в режиме редактирования.
>### 12. Идентификация по UUID
>>Возможность редактирования и удаления ссылки доступна только её создателю, идентифицируемому по UUID.
>### 13. Работа нескольких пользователей
>>Сервис поддерживает работу нескольких пользователей, каждый из которых может создавать уникальные короткие ссылки.
>### 14. Администрирование параметров ссылки
>>Только создатель ссылки может редактировать её параметры или удалять её.
>### 15. Создание нескольких ссылок
>>Один пользователь может создавать несколько коротких ссылок на разные ресурсы.
>### 16. Идентификация по UUID при повторных запросах
>>Система идентифицирует пользователя по UUID и генерирует уникальную ссылку при каждом запросе.